<%# if params[:view] == "list" %>
  $('#list-view-explore-content').html('<%= escape_javascript(render(:partial => 'results', :locals => {:searchable_results => (@searchables || [])} )) %>');
/*<% else %>
  $('#explore_map_content_holder').html('<%= escape_javascript(render(:partial => 'map_view', :locals => {:searchable_results => (@searchables || [])} )) %>');*/
<%# end %>

  <% if params[:keyword] %>
    console.log("There's a Filter on Me");
    <% end %>

var myMarkerManager = getMarkerManager();
myMarkerManager.clearMarkers();
var myMarker;

<% (@searchables || []).each do |searchable| %>
  <% if searchable.geo_located? %>
    myMarker = myMarkerManager.createMarker(new google.maps.LatLng(<%= searchable.location.latitude %>, <%= searchable.location.longitude %>), <%= searchable.id -%>,null,'<%= searchable.location_address_for_explore -%>');
    google.maps.event.addListener(myMarker, 'click', selectedMarker);
  <% end %>
<% end %>

myMarkerManager.placeAllMarkers();

console.log("JS file rendered");