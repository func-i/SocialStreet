function Pageless(a){this.stop();this.init(a)}Pageless.prototype.init=function(c){var b=c||{};if(b.container==undefined){b.container=this.container_||window}if(b.currentPage==undefined){b.currentPage=this.current_page_||1}if(b.totalPages==undefined){b.totalPages=this.totalPages_||1}if(b.distance==undefined){b.distance=this.distance_||100}if(b.loaderContainer==undefined){b.loaderContainer=this.loaderContainer_||b.container}if(b.loaderHtml==undefined){b.loaderHtml=this.loaderHtml_||'            <div id="pageless-loader" style="display:none;text-align:center;width:100%;">            <div class="msg" style="color:#e9e9e9;font-size:2em">Loading...</div>            <img src="/images/load.gif" alt="loading more results" style="margin:10px auto" />            </div>'}if(b.url==undefined){b.url=this.url_||""}if(b.parameterFunction==undefined){b.parameterFunction=this.parameterFunction_||""}this.setValues(b);var a=$(this.loaderContainer_);var d=a.find("#pageless-loader");if(d.length<=0){this.loader_=$(this.loaderHtml_);a.append(this.loader_)}else{this.loader_=d}};Pageless.prototype.setValues=function(a){this.container_=a.container;this.container_dom_=$(this.container_);this.currentPage_=a.currentPage;this.totalPages_=a.totalPages;this.url_=a.url;this.parameterFunction_=a.parameterFunction;this.distance_=a.distance;this.loaderHtml_=a.loaderHtml;this.loaderContainer_=a.loaderContainer;this.isLoading_=this.isLoading||false};Pageless.prototype.loading=function(a){(this.isLoading_=a)?(this.loader_&&this.loader_.fadeIn("normal")):(this.loader_&&this.loader_.fadeOut("normal"))};Pageless.prototype.distanceToBottom=function(){return(this.container_===window)?$(document).height()-this.container_dom_.scrollTop()-this.container_dom_.height():this.container_dom_[0].scrollHeight-this.container_dom_.scrollTop()-this.container_dom_.height()};Pageless.prototype.watch=function(a){if(a.totalPages_<=a.currentPage_){a.stop();a.loading(false);return}else{if(!a.isLoading_&&(a.distanceToBottom()<a.distance_)){a.loading(true);a.currentPage_++;params={};if($.isFunction(a.parameterFunction_)){params=a.parameterFunction_()}$.extend(params,{page:a.currentPage_});$.get(a.url_,params,function(b){if(a.loader_){a.loader_.before(b);a.loading(false)}else{}})}}};Pageless.prototype.reset=function(a){this.init(a);this.stop();this.loading(false);this.start()};Pageless.prototype.start=function(){var a=this;this.container_dom_.bind("scroll.ss_pageless",function(){a.watch(a)});this.container_dom_.bind("resize.ss_pageless",function(){a.watch(a)})};Pageless.prototype.stop=function(){if(this.container_dom_){this.container_dom_.unbind("scroll.ss_pageless");this.container_dom_.unbind("resize.ss_pageless")}};